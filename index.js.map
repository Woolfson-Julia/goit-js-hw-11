{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgInfo => {\n  return `\n    <li class=\"gallery-card\">\n      <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" data-source=\"${imgInfo.largeImageURL}\" alt=\"${imgInfo.tags}\"  />\n    </li>\n  `;\n};","export const fetchPhotosByQuery = searchedQuery => {\n  const searchParams = new URLSearchParams({\n    key: '48304744-eb473523a8629254a32e0d9a6',\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n\n  return fetch(`https://pixabay.com/api?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n\n","import iziToast from \"izitoast\"; // Библиотека для отображения уведомлений\nimport SimpleLightbox from \"simplelightbox\";\n\n      \nimport { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchPhotosByQuery } from './js/pixabay-api'\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  const searchedQuery = event.currentTarget.user_query.value.trim();\n\n  fetchPhotosByQuery(searchedQuery)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.info({\n        message: \"Sorry, there are no images matching your search query. Please try again!\" \n        })\n\n\n        galleryEl.innerHTML = '';\n\n        searchFormEl.reset();\n\n        return;\n      }\n\n      const galleryTemplate = data.hits.map(el => createGalleryCardTemplate(el)).join('');\n      galleryEl.innerHTML = galleryTemplate;\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\n// const onModal = event => {\n//   event.preventDefault();\n//   if (event.target.nodeName === 'IMG') {\n//     const instance = basicLightbox.create(`\n//     <div class=\"modal\">\n//         <img class=\"product-modal-img\" src=\"${event.target.dataset.source}\" alt=\"${event.target.alt}\" />\n//     </div>\n// `);\n\n// instance.show()\n//   }\n// };\n\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\n// galleryEl.addEventListener('click', onModal);"],"names":["createGalleryCardTemplate","imgInfo","fetchPhotosByQuery","searchedQuery","searchParams","response","searchFormEl","galleryEl","onSearchFormSubmit","event","data","iziToast","galleryTemplate","el","err"],"mappings":"svBAAO,MAAMA,EAA4BC,GAChC;AAAA;AAAA,sCAE6BA,EAAQ,YAAY,kBAAkBA,EAAQ,aAAa,UAAUA,EAAQ,IAAI;AAAA;AAAA,ICH1GC,EAAqBC,GAAiB,CACjD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAGD,OAAO,MAAM,2BAA2BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACvE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECVMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMN,EAAgBM,EAAM,cAAc,WAAW,MAAM,OAE3DP,EAAmBC,CAAa,EAC7B,KAAKO,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBC,EAAS,KAAK,CACd,QAAS,0EACjB,CAAS,EAGDJ,EAAU,UAAY,GAEtBD,EAAa,MAAK,EAElB,MACD,CAED,MAAMM,EAAkBF,EAAK,KAAK,IAAIG,GAAMb,EAA0Ba,CAAE,CAAC,EAAE,KAAK,EAAE,EAClFN,EAAU,UAAYK,CAC5B,CAAK,EACA,MAAME,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,EAgBAR,EAAa,iBAAiB,SAAUE,CAAkB"}